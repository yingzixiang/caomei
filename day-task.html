<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>书院</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no" />
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
		<meta name="apple-touch-fullscreen" content="yes" />
		<meta name="apple-mobile-web -app-capable" content="yes">
		<meta content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=0" name="viewport"  />
		<link rel="stylesheet/less" type="text/css" href="css/public.less" />  
    <link rel="stylesheet" href="light7/dist/css/light7.min.css" />
    <link rel="stylesheet" type="text/css" href="font/iconfont.css" />
    <script src="js/less-1.7.0.js"></script>
    <script src="js/jquery-2.1.1.min.js"></script>
    <script type='text/javascript' src='light7/dist/js/light7.min.js' charset='utf-8'></script>
  </head>
  <body>
    <div class="page page-group">
		<div class="content day-task">
		    <header>
		    	<div></div>
		    	<span class="book-name">《沉默的大多数》精读</span>
		    	<p>
					    HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局HTML文字环绕图片布局
					</p>
		    </header>
		    <!--进度条-->
		    <div class="canvas-content">
		    	<canvas id="weekWork"></canvas>
		    	<!--每日任务-->
					<div class="task-day">
						<span class="weekday">Day1</span>
						<i class="iconfont icon-pin2selkaobei2"></i>
						<div class="tag">
							<i class></i>
							<p>1.放假啊数据来看范德萨接口连接asdf </p>
							<div class="tag-inline">
					     		<span class="font-span">CSS气泡框实现房间斯科拉里的声卡就</span>
							</div>
							<div class="tag-inline">
					     		<span class="font-span">CSS气泡框实现</span>
							</div>
							<div class="tag-inline">
					     		<span class="font-span">CSS气泡框实现</span>
							</div>
						</div>
					</div>
		    	<div class="task-day">
						<span class="weekday">Day1</span>
						<i class="iconfont icon-pin2selkaobei2"></i>
						<div class="tag">
							<i class></i>
							<p>1.放假啊数据来看范德萨接口连接asdf </p>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
						</div>
					</div>
		    	<div class="task-day">
						<span class="weekday">Day1</span>
						<i class="iconfont icon-pin2selkaobei2"></i>
						<div class="tag">
							<p>1.放假啊数据来看范德萨接口连接asdf </p>
							<i class></i>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
						</div>
					</div>
		    	<div class="task-day">
						<span class="weekday">Day1</span>
						<i class="iconfont icon-pin2selkaobei2"></i>
						<div class="tag">
							<p>1.放假啊数据来看范德萨接口连接asdf </p>
							<i class></i>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
				      		
							</div>
						</div>
					</div>
		    	<div class="task-day">
						<span class="weekday">Day1</span>
						<i class="iconfont icon-pin2selkaobei2"></i>
						<div class="tag">
							<p>1.放假啊数据来看范德萨接口连接asdf </p>
							<i class></i>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
							</div>
							<div class="tag-inline">
					     		<span>CSS气泡框实现</span>
							</div>
						</div>
					</div>
		    </div>
		</div>
		<footer>
			<span class="footer-nav nav-active">
				<p class='iconfont icon-renwu1'></p>
				<p class="i-text">本周任务</p>
			</span>
			<span class="footer-nav">
				<p class='iconfont icon-renwu'></p>
				<p class="i-text">教务</p>
			</span>
			<span class="footer-nav">
				<p class='iconfont icon-geren'></p>
				<p class="i-text">个人中心</p>
			</span>
		</footer>
	</div>		
  </body>
</html>
<script>
	//变量初始化
	var ZRM = {
		"lightMax": 4 // 当前星期几
	}
	$(function(){
	    var oC = document.getElementById('weekWork');
	    oC.width = document.body.scrollWidth*4;
	    var CanvasHeight = 0;
	    for(var i=0 ; i<=4; i++){
	    	 //定高
		     CanvasHeight += (document.getElementsByClassName("tag")[i].offsetHeight*4 + 30*5) ;
	    }
			oC.height = CanvasHeight;
		  var tH =0;
	    var oGC = oC.getContext('2d');
	    oGC.lineWidth = 8;
			oGC.strokeStyle = "rgb(234,211,211)";
			oGC.scale(4,4);
			//开始画线
			oGC.beginPath();
		  oGC.moveTo(65,30);
			oGC.lineTo(65,CanvasHeight);
	   	oGC.stroke();
	   
	    for(var i=0 ; i<=4; i++){
	    	 //画空心圆
		    //开始一个新的绘制路径
		    if(i==0) tH = 35;
		    else tH += document.getElementsByClassName("tag")[i-1].offsetHeight + 30;
		    oGC.beginPath();
		    oGC.lineWidth = 4;
		    //设置弧线的颜色为
		    var circleS = {
		        x : 65,    //圆心的x轴坐标值
		        r : 9     //圆的半径
		    };
		    oGC.stroStyle = '#93c1ff';
		    oGC.fillStyle = "#fff";
	    	//沿着坐标x=50,半径为10px的圆的顺时针方向绘制弧线
	    	oGC.arc(circleS.x, tH, circleS.r, 0, Math.PI * 2, false);   
	    	//按照指定的路径绘制弧线
	    	oGC.stroke();
	    	oGC.fill();
	    	oGC.closePath();
		    var taskDay = document.getElementsByClassName("task-day");
		    var weekDay = document.getElementsByClassName('weekday');
	    	taskDay[i].style.top= tH-10 + "px";
	    }
	   
	    for(var i=0 ; i<ZRM.lightMax; i++){
	    	 //画实心圆
		    //开始一个新的绘制路径
		    if(i==0) tH = 35;
		    else tH += document.getElementsByClassName("tag")[i-1].offsetHeight + 30;
		    oGC.beginPath();
		    //设置弧线的颜色为
		    var circleS = {
		        x : 65,    //圆心的x轴坐标值
		        r : 7     //圆的半径
		    };
		    oGC.fillStyle = "#b23636";
	    	//沿着坐标x=25,半径为5px的圆的顺时针方向绘制弧线
	    	oGC.arc(circleS.x, tH, circleS.r, 0, Math.PI * 2, false);   
	    	//按照指定的路径绘制弧线
	    	oGC.fill();
	    	oGC.closePath();
	    }
	    
	    //点击切换
	    $(".footer-nav").unbind().bind("click",function(){
	    	$(".footer-nav").removeClass("nav-active");
	    	$(this).addClass('nav-active');
	    })
	    
	    //定高
	    var nowScroll = document.getElementsByClassName('task-day')[ZRM.lightMax-1].offsetTop;
	    $('.canvas-content').animate({scrollTop:nowScroll+'px'},500)
	})
</script>
